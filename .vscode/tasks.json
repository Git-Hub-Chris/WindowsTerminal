{
	"version": "2.0.0",
	"tasks": [
		{
			"type": "process",
			"label": "Build OpenConsole.exe x64 Debug",
			"command": "pwsh.exe",
			"args": [
			  "-Command",
			  "Import-Module ${workspaceFolder}\\tools\\OpenConsole.psm1;",
			  "Set-MsBuildDevEnvironment;",
			  "msbuild",
			  "${workspaceFolder}\\OpenConsole.sln",
			  "/p:Configuration=Debug",
			  "/p:Platform=x64",
			  "/t:Conhost\\Host_EXE"
			],
			"problemMatcher": ["$msCompile"],
			"group": {
			  "kind": "build",
			  "isDefault": true
			}
		},
		{
			"type": "process",
			"label": "Build Windows Terminal x64 Debug",
			"command": "pwsh.exe",
			"args": [
			  "-Command",
			  "Import-Module ${workspaceFolder}\\tools\\OpenConsole.psm1;",
			  "Set-MsBuildDevEnvironment;",
			  "msbuild",
			  "${workspaceFolder}\\OpenConsole.sln",
			  "/p:Configuration=Debug",
			  "/p:Platform=x64",
			  "/t:Terminal\\CascadiaPackage",
			  "/p:AppxSymbolPackageEnabled=false"
			],
			"problemMatcher": ["$msCompile"],
			"group": {
			  "kind": "build",
			  "isDefault": true
			}
		},
		{
			"type": "process",
			"label": "Register Windows Terminal x64 Debug",
			"command": "pwsh.exe",
			"args": [
			  "-Command",
			  "Import-Module ${workspaceFolder}\\tools\\OpenConsole.psm1;",
			  "Set-MsBuildDevEnvironment;",
			  "Set-Location -Path ${workspaceFolder}\\src\\cascadia\\CascadiaPackage\\AppPackages\\CascadiaPackage_0.0.1.0_x64_Debug_Test;",
			  "if ((Get-AppxPackage -Name 'WindowsTerminalDev*') -ne $null) { Remove-AppxPackage 'WindowsTerminalDev_0.0.1.0_x64__8wekyb3d8bbwe'};",
			  "New-Item ..\\loose -Type Directory -Force;",
			  "makeappx unpack /v /o /p .\\CascadiaPackage_0.0.1.0_x64_Debug.msix /d ..\\Loose\\;",
			  "Add-AppxPackage -Path ..\\loose\\AppxManifest.xml -Register -ForceUpdateFromAnyVersion -ForceApplicationShutdown"
			],
			"problemMatcher": ["$msCompile"],
			"group": {
			  "kind": "build",
			  "isDefault": true
			}
		},
		{
			"type": "process",
			"label": "Run Windows Terminal x64 Debug",
			"command": "wtd.exe",
			"args": [
			],
			"problemMatcher": ["$msCompile"],
		},
		{
			"type": "shell",
			"label": "Build, Register, and Run Windows Terminal x64 Debug",
			"command": "Write-Host Done!",
			"problemMatcher": ["$msCompile"],
			"group": {
			  "kind": "build",
			  "isDefault": true
			},
			"dependsOn": [
				"Build Windows Terminal x64 Debug",
				"Register Windows Terminal x64 Debug",
				"Run Windows Terminal x64 Debug"
			],
			"dependsOrder": "sequence"
		},
		{
			"type": "process",
			"label": "Clean Windows Terminal x64 Debug",
			"command": "pwsh.exe",
			"args": [
			  "-Command",
			  "Import-Module ${workspaceFolder}\\tools\\OpenConsole.psm1;",
			  "Set-MsBuildDevEnvironment;",
			  "msbuild",
			  "${workspaceFolder}\\OpenConsole.sln",
			  "/p:Configuration=Debug",
			  "/p:Platform=x64",
			  "/t:Terminal\\CascadiaPackage:Clean"
			],
			"problemMatcher": ["$msCompile"],
			"group": {
			  "kind": "build",
			  "isDefault": true
			}
		}
	]
}